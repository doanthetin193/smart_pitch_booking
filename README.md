# âš½ Äáº·tSÃ¢n247 - Há»‡ Thá»‘ng Äáº·t SÃ¢n BÃ³ng ÄÃ¡ ThÃ´ng Minh

<div align="center">
  <img src="frontend/public/rwc.png" alt="Äáº·tSÃ¢n247 Logo" width="200"/>
  <br/><br/>
  <strong>ğŸ† Ná»n táº£ng Ä‘áº·t sÃ¢n bÃ³ng hÃ ng Ä‘áº§u Viá»‡t Nam</strong>
  <br/>
  <em>Äáº·t sÃ¢n dá»… dÃ ng â€¢ Quáº£n lÃ½ thÃ´ng minh â€¢ Há»— trá»£ 24/7</em>
  <br/><br/>
  
  ![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.4.11-brightgreen)
  ![React](https://img.shields.io/badge/React-19.2.0-blue)
  ![MySQL](https://img.shields.io/badge/MySQL-8.0-orange)
  ![Java](https://img.shields.io/badge/Java-17-red)
</div>

---

## ğŸ“‹ Giá»›i thiá»‡u

**Äáº·tSÃ¢n247** lÃ  á»©ng dá»¥ng web Ä‘áº·t sÃ¢n bÃ³ng Ä‘Ã¡ trá»±c tuyáº¿n, káº¿t ná»‘i ngÆ°á»i chÆ¡i bÃ³ng vá»›i chá»§ sÃ¢n má»™t cÃ¡ch nhanh chÃ³ng vÃ  tiá»‡n lá»£i. Há»‡ thá»‘ng há»— trá»£ 3 vai trÃ²: NgÆ°á»i dÃ¹ng (USER), Chá»§ sÃ¢n (OWNER) vÃ  Quáº£n trá»‹ viÃªn (ADMIN).

### âœ¨ Äiá»ƒm ná»•i báº­t
- ğŸ¯ **Äáº·t sÃ¢n nhanh chÃ³ng** - Chá»‰ 3 bÆ°á»›c Ä‘Æ¡n giáº£n
- ğŸ’° **Minh báº¡ch giÃ¡ cáº£** - Hiá»ƒn thá»‹ rÃµ rÃ ng, khÃ´ng phÃ­ áº©n
- ğŸ“Š **Thá»‘ng kÃª chi tiáº¿t** - BÃ¡o cÃ¡o doanh thu trá»±c quan
- ğŸ”’ **Báº£o máº­t cao** - JWT Authentication
- ğŸ“± **Responsive** - TÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹

---

## ğŸ¯ TÃ­nh nÄƒng chÃ­nh

### ğŸ” Module 1: XÃ¡c thá»±c & PhÃ¢n quyá»n
| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| ÄÄƒng kÃ½ tÃ i khoáº£n | 3 vai trÃ²: USER, OWNER, ADMIN |
| ÄÄƒng nháº­p | JWT Token (24 giá») |
| Äá»•i máº­t kháº©u | XÃ¡c thá»±c máº­t kháº©u cÅ© |
| Cáº­p nháº­t Profile | Há» tÃªn, SÄT, Ä‘á»‹a chá»‰ |
| KhÃ³a tÃ i khoáº£n | ThÃ´ng bÃ¡o khi bá»‹ khÃ³a |

### âš½ Module 2: Quáº£n lÃ½ SÃ¢n bÃ³ng
| Vai trÃ² | Quyá»n háº¡n |
|---------|-----------|
| USER | Xem danh sÃ¡ch sÃ¢n Ä‘Ã£ duyá»‡t, xem chi tiáº¿t |
| OWNER | ThÃªm/Sá»­a/XÃ³a sÃ¢n, xem tráº¡ng thÃ¡i duyá»‡t |
| ADMIN | Xem táº¥t cáº£, duyá»‡t sÃ¢n má»›i, xÃ³a sÃ¢n |

**ThÃ´ng tin sÃ¢n:**
- TÃªn, Ä‘á»‹a chá»‰ (ThÃ nh phá»‘/Quáº­n/Chi tiáº¿t)
- Loáº¡i sÃ¢n: SÃ¢n 5, SÃ¢n 7, SÃ¢n 11
- GiÃ¡ thuÃª/giá», giá» hoáº¡t Ä‘á»™ng
- MÃ´ táº£, hÃ¬nh áº£nh

### ğŸ” Module 3: TÃ¬m kiáº¿m & Lá»c
- ğŸ”¤ TÃ¬m theo tá»« khÃ³a (tÃªn, Ä‘á»‹a chá»‰)
- ğŸ™ï¸ Lá»c theo ThÃ nh phá»‘/Quáº­n
- âš½ Lá»c theo loáº¡i sÃ¢n (5/7/11)
- ğŸ’µ Lá»c theo khoáº£ng giÃ¡
- ğŸ”— Káº¿t há»£p nhiá»u Ä‘iá»u kiá»‡n

### ğŸ“… Module 4: Äáº·t sÃ¢n
| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| Xem khung giá» trá»‘ng | Slot cÃ²n trá»‘ng trong ngÃ y |
| Äáº·t sÃ¢n | Chá»n ngÃ y, giá» báº¯t Ä‘áº§u/káº¿t thÃºc |
| Xem lá»‹ch Ä‘áº·t | USER xem Ä‘Æ¡n cá»§a mÃ¬nh |
| Há»§y Ä‘áº·t | Chá»‰ khi tráº¡ng thÃ¡i PENDING |
| XÃ¡c nháº­n/Tá»« chá»‘i | OWNER duyá»‡t Ä‘Æ¡n |

**Tráº¡ng thÃ¡i Ä‘Æ¡n:**
```
PENDING â†’ CONFIRMED â†’ COMPLETED
    â†“         â†“
CANCELLED  REJECTED
```

**Auto-complete:** Scheduler tá»± Ä‘á»™ng chuyá»ƒn CONFIRMED â†’ COMPLETED khi háº¿t giá»

### â­ Module 5: ÄÃ¡nh giÃ¡ & BÃ¬nh luáº­n
- â­ Äiá»ƒm Ä‘Ã¡nh giÃ¡: 1-5 sao
- ğŸ’¬ Viáº¿t bÃ¬nh luáº­n
- ğŸ“Š Tá»•ng há»£p Ä‘iá»ƒm trung bÃ¬nh
- ğŸ—‘ï¸ XÃ³a Ä‘Ã¡nh giÃ¡ (USER/ADMIN)

### ğŸ“Š Module 6: Thá»‘ng kÃª doanh thu

**OWNER:**
- ğŸ’° Tá»•ng doanh thu (thÃ¡ng/tá»•ng)
- ğŸ“ˆ Biá»ƒu Ä‘á»“ doanh thu theo ngÃ y
- ğŸŸï¸ Chi tiáº¿t tá»«ng sÃ¢n
- ğŸ“… Lá»c theo khoáº£ng thá»i gian

**ADMIN:**
- ğŸ“Š Tá»•ng doanh thu há»‡ thá»‘ng
- ğŸ‘¥ Sá»‘ users, owners
- ğŸŸï¸ Sá»‘ sÃ¢n, Ä‘Æ¡n Ä‘áº·t

### ğŸ“¥ Module 7: Xuáº¥t bÃ¡o cÃ¡o
- ğŸ“— **Excel (.xlsx)** - Chi tiáº¿t Ä‘Æ¡n Ä‘áº·t
- ğŸ“• **PDF** - BÃ¡o cÃ¡o tá»•ng há»£p

### ğŸ‘¥ Module 8: Quáº£n lÃ½ Users (ADMIN)
- ğŸ“‹ Danh sÃ¡ch táº¥t cáº£ users
- ğŸ” Lá»c theo vai trÃ²
- ğŸ”’ KhÃ³a/Má»Ÿ khÃ³a tÃ i khoáº£n
- ğŸ”„ Thay Ä‘á»•i vai trÃ²
- ğŸ—‘ï¸ XÃ³a tÃ i khoáº£n

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
| CÃ´ng nghá»‡ | PhiÃªn báº£n | MÃ´ táº£ |
|-----------|-----------|-------|
| Java | 17 | NgÃ´n ngá»¯ chÃ­nh |
| Spring Boot | 3.4.11 | Framework |
| Spring Security | - | Authentication |
| Spring Data JPA | - | ORM |
| JWT (jjwt) | 0.11.5 | Token Auth |
| MySQL | 8.0+ | Database |
| Apache POI | 5.2.5 | Export Excel |
| iText7 | 7.2.5 | Export PDF |
| Lombok | - | Reduce boilerplate |

### Frontend
| CÃ´ng nghá»‡ | PhiÃªn báº£n | MÃ´ táº£ |
|-----------|-----------|-------|
| React | 19.2.0 | UI Library |
| Vite | 7.2.2 | Build Tool |
| React Router | 7.9.5 | Routing |
| Axios | 1.13.2 | HTTP Client |

### UI Theme
- ğŸŸ¢ **Primary:** #1a5f2a (Xanh sÃ¢n cá»)
- ğŸŸ¡ **Accent:** #fbbf24 (VÃ ng)
- ğŸ“± Responsive Design

---

## ğŸ“‚ Cáº¥u trÃºc Project

```
smartpitchbooking/
â”œâ”€â”€ ğŸ“ src/main/java/com/dung/smartpitchbooking/
â”‚   â”œâ”€â”€ ğŸ“ config/           # DataInitializer
â”‚   â”œâ”€â”€ ğŸ“ controller/       # REST APIs
â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”œâ”€â”€ UserController.java
â”‚   â”‚   â”œâ”€â”€ PitchController.java
â”‚   â”‚   â”œâ”€â”€ BookingController.java
â”‚   â”‚   â”œâ”€â”€ ReviewController.java
â”‚   â”‚   â”œâ”€â”€ StatisticsController.java
â”‚   â”‚   â”œâ”€â”€ ReportController.java
â”‚   â”‚   â””â”€â”€ AdminController.java
â”‚   â”œâ”€â”€ ğŸ“ dto/              # Request/Response DTOs
â”‚   â”œâ”€â”€ ğŸ“ entity/           # JPA Entities
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”œâ”€â”€ Pitch.java
â”‚   â”‚   â”œâ”€â”€ Booking.java
â”‚   â”‚   â””â”€â”€ Review.java
â”‚   â”œâ”€â”€ ğŸ“ exception/        # Global Exception Handler
â”‚   â”œâ”€â”€ ğŸ“ repository/       # JPA Repositories
â”‚   â”œâ”€â”€ ğŸ“ scheduler/        # Scheduled Tasks
â”‚   â”œâ”€â”€ ğŸ“ security/         # JWT, Security Config
â”‚   â””â”€â”€ ğŸ“ service/          # Business Logic
â”‚
â”œâ”€â”€ ğŸ“ frontend/
â”‚   â”œâ”€â”€ ğŸ“ public/           # Static assets
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/   # Navbar, SearchFilter
â”‚   â”‚   â”œâ”€â”€ ğŸ“ contexts/     # AuthContext
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/        # 11 pages
â”‚   â”‚   â””â”€â”€ ğŸ“ services/     # API calls
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ pom.xml
â””â”€â”€ README.md
```

---

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### YÃªu cáº§u
- â˜• Java JDK 17+
- ğŸ¬ MySQL 8.0+
- ğŸ“¦ Node.js 18+
- ğŸ”§ Maven 3.8+

### 1ï¸âƒ£ Clone project
```bash
git clone https://github.com/doanthetin193/smart_pitch_booking.git
cd smart_pitch_booking
```

### 2ï¸âƒ£ Cáº¥u hÃ¬nh Database
File `src/main/resources/application.properties`:
```properties
spring.datasource.url=jdbc:mysql://localhost:3306/smartpitchbooking?createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=YOUR_PASSWORD
```

### 3ï¸âƒ£ Cháº¡y Backend
```bash
# Windows
.\mvnw.cmd spring-boot:run

# Linux/Mac
./mvnw spring-boot:run
```
ğŸŒ Backend: `http://localhost:8080`

### 4ï¸âƒ£ Cháº¡y Frontend
```bash
cd frontend
npm install
npm run dev
```
ğŸŒ Frontend: `http://localhost:5173`

---

## ğŸ‘¥ TÃ i khoáº£n test

| Username | Password | Role | MÃ´ táº£ |
|----------|----------|------|-------|
| `admin` | `admin123` | ADMIN | Quáº£n trá»‹ viÃªn |
| `owner1` | `123456` | OWNER | Chá»§ sÃ¢n (6 sÃ¢n máº«u) |
| `user1` | `123456` | USER | NgÆ°á»i dÃ¹ng |

---

## ğŸ“¡ API Endpoints

### ğŸ” Authentication
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| POST | `/api/auth/register` | ÄÄƒng kÃ½ |
| POST | `/api/auth/login` | ÄÄƒng nháº­p |

### ğŸ‘¤ User
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| GET | `/api/users/profile` | Láº¥y profile |
| PUT | `/api/users/profile` | Cáº­p nháº­t profile |
| PUT | `/api/users/change-password` | Äá»•i máº­t kháº©u |

### âš½ Pitches
| Method | Endpoint | Auth | MÃ´ táº£ |
|--------|----------|------|-------|
| GET | `/api/pitches` | - | SÃ¢n Ä‘Ã£ duyá»‡t |
| GET | `/api/pitches/{id}` | - | Chi tiáº¿t sÃ¢n |
| GET | `/api/pitches/search` | - | TÃ¬m kiáº¿m |
| GET | `/api/pitches/cities` | - | DS thÃ nh phá»‘ |
| POST | `/api/pitches` | OWNER | Táº¡o sÃ¢n |
| PUT | `/api/pitches/{id}` | OWNER | Sá»­a sÃ¢n |
| DELETE | `/api/pitches/{id}` | OWNER | XÃ³a sÃ¢n |
| GET | `/api/pitches/my-pitches` | OWNER | SÃ¢n cá»§a tÃ´i |
| GET | `/api/pitches/admin/all` | ADMIN | Táº¥t cáº£ sÃ¢n |
| PUT | `/api/pitches/admin/{id}/approve` | ADMIN | Duyá»‡t sÃ¢n |

### ğŸ“… Bookings
| Method | Endpoint | Auth | MÃ´ táº£ |
|--------|----------|------|-------|
| GET | `/api/bookings/available-slots/{pitchId}` | - | Khung giá» trá»‘ng |
| POST | `/api/bookings` | USER | Äáº·t sÃ¢n |
| GET | `/api/bookings/my-bookings` | USER | Lá»‹ch cá»§a tÃ´i |
| PUT | `/api/bookings/{id}/cancel` | USER | Há»§y Ä‘áº·t |
| GET | `/api/bookings/owner/all` | OWNER | ÄÆ¡n Ä‘áº·t sÃ¢n |
| PUT | `/api/bookings/owner/{id}/confirm` | OWNER | XÃ¡c nháº­n |
| PUT | `/api/bookings/owner/{id}/reject` | OWNER | Tá»« chá»‘i |

### â­ Reviews
| Method | Endpoint | Auth | MÃ´ táº£ |
|--------|----------|------|-------|
| GET | `/api/reviews/pitch/{pitchId}` | - | ÄÃ¡nh giÃ¡ sÃ¢n |
| GET | `/api/reviews/pitch/{pitchId}/summary` | - | Tá»•ng há»£p |
| POST | `/api/reviews` | USER | Táº¡o Ä‘Ã¡nh giÃ¡ |
| DELETE | `/api/reviews/{id}` | USER | XÃ³a |

### ğŸ“Š Statistics & Reports
| Method | Endpoint | Auth | MÃ´ táº£ |
|--------|----------|------|-------|
| GET | `/api/statistics/owner` | OWNER | Thá»‘ng kÃª |
| GET | `/api/statistics/admin` | ADMIN | Thá»‘ng kÃª |
| GET | `/api/reports/owner/excel` | OWNER | Xuáº¥t Excel |
| GET | `/api/reports/owner/pdf` | OWNER | Xuáº¥t PDF |

### ğŸ‘¥ Admin
| Method | Endpoint | MÃ´ táº£ |
|--------|----------|-------|
| GET | `/api/admin/users` | DS users |
| PUT | `/api/admin/users/{id}/toggle-status` | KhÃ³a/Má»Ÿ |
| PUT | `/api/admin/users/{id}/change-role` | Äá»•i role |
| DELETE | `/api/admin/users/{id}` | XÃ³a user |

---

## ğŸ”’ Báº£o máº­t

- ğŸ”‘ **JWT Authentication** - Token 24h
- ğŸ” **BCrypt Password** - MÃ£ hÃ³a máº­t kháº©u
- ğŸ›¡ï¸ **Role-based Auth** - @PreAuthorize
- ğŸŒ **CORS Config** - Frontend access

---

## ğŸ§ª Testing

**55 Test Cases** bao gá»“m:
- âœ… Authentication: 8 cases
- âœ… Pitch Management: 10 cases
- âœ… Search & Filter: 7 cases
- âœ… Booking: 10 cases
- âœ… Reviews: 6 cases
- âœ… Statistics: 4 cases
- âœ… Admin: 6 cases
- âœ… Profile: 4 cases

---

## ğŸ“ License

MIT License

---

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

**Nguyá»…n VÄƒn DÅ©ng**
- ğŸ“ MSSV: 4551190009
- ğŸ“§ Email: nguyenvandung6000@gmail.com

---

<div align="center">
  <br/>
  <strong>âš½ Äáº·tSÃ¢n247 - Äáº·t sÃ¢n bÃ³ng chÆ°a bao giá» dá»… dÃ ng Ä‘áº¿n tháº¿! âš½</strong>
  <br/><br/>
  Made with â¤ï¸ in Vietnam
</div>
